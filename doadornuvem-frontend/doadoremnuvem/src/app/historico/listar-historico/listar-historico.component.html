<header class="page-header">
  <h1><i class="fas fa-history"></i> Histórico de Notificações</h1>
</header>

<article class="page-content">

  <div class="page-content-card content">

    <div *ngIf="historico.length == 0">Carregando...</div>

    <table *ngIf="historico.length > 0" class="table">
      <thead>
      <tr>
        <th scope="col">Data</th>
        <th scope="col">Status</th>
        <th scope="col">Tipo</th>
        <th scope="col">Quant.</th>
        <th scope="col">Log</th>
        <th scope="col">Ações</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let h of historico; index as i">
        <td>{{ h.dt_operacao | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
        <td>{{ h.status }}</td>
        <td>{{ h.tp_operacao }}</td>
        <td>{{ h.qt_doadores_notificados }}</td>
        <td>{{ h.ds_log }}</td>
        <td>
          <button type="button" class="btn btn-warning" routerLink="/historico" *ngIf="h.status === 'FALHA'" (click)="reprocessarFalha(h)"><i class="fas fa-reply-all"></i> Repetir</button>
        </td>
      </tr>
      </tbody>
    </table>

  </div>

</article>
